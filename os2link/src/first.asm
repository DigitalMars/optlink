		TITLE	FIRST - Copyright (c) SLR Systems 1994

		INCLUDE MACROS
		INCLUDE RELEASE

if	0;fgh_os2
		INCLUDELIB	OS2	;DOSCALLS
endif

		PUBLIC	CFLAGS,FLAG_LEN,PATCH,ROOT_RET,FIRST_LABEL

		.CODE

FIRST_LABEL:

		.CODE	ROOT_TEXT

		EXTERNDEF	_optlink_restart:PROC

START:
		JMP	_optlink_restart
		DB	5			;OPTLINK = 3
		DW	5
		DW	RELEASE_NUM


CFLAGS		DB	00000000B
		;
		;7	DO_CHECKSUMING
		;6	ABORT_ON_CHECKSUM
		;5	SYMBOLS_OUT
		;4	XREF_OUT
		;3	CMDLINE_FREEFORMAT
		;2	STACK_GROUP_FLAG
		;1	DOSSEG_FLAG
		;0	TD_FLAG
		;
		DB	11000000B
		;
		;15	PACKFUNCTIONS_FLAG
		;14	DEFAULTLIBRARYSEARCH_FLAG
		;13	PRINT_GROUP
		;12	LINENUMBERS_FLAG
		;11	EXEPACK_FLAG
		;10	INFORMATION_FLAG
		;9	PAUSE_FLAG
		;8	ECHO_INDIRECT
		;
		DB	10000100B
		;
		;23	PACKCODE_NO_SEGMENTS
		;22	PACKCODE_FLAG
		;21	FARCALLTRANSLATION_FLAG
		;20	BATCH_FLAG
		;19	CODEVIEW_FLAG
		;18	GROUPASSOCIATION_FLAG
		;17	DELETE_EXE_ON_ERROR
		;16	$$SLR_CODE_FIRST
		;
		DB	10111110B
		;
		;31	HANDLE_EXE_ERRORFLAG
		;30	NODOSSEG_FLAG
		;29	ERROR_NOT_REFERENCED
		;28	SCAN_LINK_ENVIRONMENT
		;27	ALPHA_ORDER_ALSO
		;26	CHECK_LO_BYTE
		;25	ECHO_ANY
		;24	PRESERVE_IMPEXP_CASE
		;
		DB	00000001B
		;
		;39	FORCE_EMS_32
		;38	TRIED_EMS
		;37	TRIED_XMS
		;36	TRIED_UMB
		;35	NOFARCALLTRANSLATE
		;34	NOPACKCODE
		;33	PACKDATA
		;32	NULLSDOSSEG
		;
		DB	01001011B
		;
		;47	DOTS_FLAG
		;46	IGNORE_DUP_STARTS
		;45	FIXDS_FLAG
		;44	DETAILEDMAP_FLAG
		;43	PLUS_FOUND
		;42	LOGO_OUTPUT
		;41	CHECK_RELOCATIONS
		;40	EMS_IO_LEGAL
		;
		DB	00000100B
		;
		;55	EXEPACK_IF_WINDLL
		;54	EXEPACK_IF_OS2APP
		;53	EXEPACK_IF_WINAPP
		;52	EXEPACK_IF_DOSAPP
		;51	ROOT_ENVIRONMENT_LEGAL
		;50	ALLOW_WINDOWS_EXEPACK
		;49	REORDER_ALLOWED
		;48	DUP_MODNAMES_PLEASE
		;
		DB	00110100B
		;
		;63	CMDLINE_FINAL
		;62	COMDEF_SEARCH
		;61	CVPACK_FLAG
		;60	SCAN_LIB_ENVIRONMENT
		;59	LIB_NOT_FOUND_FATAL
		;58	PREV_DEF_IS_ERROR
		;57	WARN_LIB_DUPS
		;56	EXEPACK IF OS2DLL
		;
		DB	00000000B
		;
		;65	CV_WARNINGS
		;64	NT_HOST_FLAG
		;

FLAG_LEN	EQU	$-CFLAGS

		DD	132
		DD	60
NEW_CV_TYPE	DB	4
		DB	1			;CASE_TYPE preserve-ignore
		DB	3			;DEFAULT TURBODEBUGGER DATA TYPE
		DB	0	;XTRA
		DD	65500	;DEFAULT PACK SIZE

		DB	'Copyright (C) Digital Mars 1990-2004.  All rights reserved.'

if	fg_td
		PUBLIC	TFLAGS

TFLAGS		DB	00000000B
		;
		;7	DO_CHECKSUMING
		;6	ABORT_ON_CHECKSUM
		;5	SYMBOLS_OUT
		;4	XREF_OUT
		;3	CMDLINE_FREEFORMAT
		;2	STACK_GROUP_FLAG
		;1	DOSSEG_FLAG
		;0	TD_FLAG
		;
		DB	11000000B
		;
		;15	PACKFUNCTIONS_FLAG
		;14	DEFAULTLIBRARYSEARCH_FLAG
		;13	PRINT_GROUP
		;12	LINENUMBERS_FLAG
		;11	EXEPACK_FLAG
		;10	INFORMATION_FLAG
		;9	PAUSE_FLAG
		;8	ECHO_INDIRECT
		;
		DB	11100100B
		;
		;23	PACKCODE_NO_SEGMENTS
		;22	PACKCODE_FLAG
		;21	FARCALLTRANSLATION_FLAG
		;20	BATCH_FLAG
		;19	CODEVIEW_FLAG
		;18	GROUPASSOCIATION_FLAG
		;17	DELETE_EXE_ON_ERROR
		;16	$$SLR_CODE_FIRST
		;
		DB	10001110B
		;
		;31	HANDLE_EXE_ERRORFLAG
		;30	NODOSSEG_FLAG
		;29	ERROR_NOT_REFERENCED
		;28	SCAN_LINK_ENVIRONMENT
		;27	ALPHA_ORDER_ALSO
		;26	CHECK_LO_BYTE
		;25	ECHO_ANY
		;24	PRESERVE_IMPEXP_CASE
		;
		DB	00000001B
		;
		;39	FORCE_EMS_32
		;38	TRIED_EMS
		;37	TRIED_XMS
		;36	TRIED_UMB
		;35	NOFARCALLTRANSLATE
		;34	NOPACKCODE
		;33	PACKDATA
		;32	NULLSDOSSEG
		;
		DB	01001111B
		;
		;47	DOTS_FLAG
		;46	IGNORE_DUP_STARTS
		;45	FIXDS_FLAG
		;44	DETAILEDMAP_FLAG
		;43	PLUS_FOUND
		;42	LOGO_OUTPUT
		;41	CHECK_RELOCATIONS
		;40	EMS_IO_LEGAL
		;
		DB	00000100B
		;
		;55	EXEPACK_IF_WINDLL
		;54	EXEPACK_IF_OS2APP
		;53	EXEPACK_IF_WINAPP
		;52	EXEPACK_IF_DOSAPP
		;51	ROOT_ENVIRONMENT_LEGAL
		;50	ALLOW_WINDOWS_EXEPACK
		;49	REORDER_ALLOWED
		;48	DUP_MODNAMES_PLEASE
		;
		DB	11101000B
		;
		;63	CMDLINE_FINAL
		;62	COMDEF_SEARCH
		;61	CVPACK_FLAG
		;60	SCAN_LIB_ENVIRONMENT
		;59	LIB_NOT_FOUND_FATAL
		;58	PREV_DEF_IS_ERROR
		;57	WARN_LIB_DUPS
		;56	EXEPACK IF OS2DLL
		;
		DB	00000000B
		;
		;65	CV_WARNINGS
		;64	NT_HOST_FLAG
		;

TFLAG_LEN	EQU	$-TFLAGS

.ERRNZ	TFLAG_LEN - FLAG_LEN

		DD	132			;PAGEWIDTH
		DD	60			;PAGELENGTH
		DB	4			;CODEVIEW TYPE
		DB	2			;CASE_TYPE UPPER
		DB	3			;DEFAULT TURBODEBUGGER DATA TYPE
		DB	0			;XTRA
		DD	8192			;DEFAULT PACK SIZE
endif


PATCH		LABEL	BYTE


ROOT_RET	PROC

		RET

ROOT_RET	ENDP


		END

