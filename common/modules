.XLIST
MODULE_STRUCT	STRUC

_M_NEXT_HASH_GINDEX	DD	?	;NEXT MODULE THIS HASH, FOR PLINK, AND FOR DEBUGMODULES
_M_NEXT_MODULE_GINDEX	DD	?
_M_FIRST_PUB_GINDEX	DD	?	;FIRST PUBLIC SYMBOL THIS MODULE - FOR CV, DEFPUBS,
_M_FILE_LIST_GINDEX	DD	?	;ACTUAL FILE_LIST ENTRY
_M_MDB_GINDEX		DD	?	;PTR TO DEBUG STRUCTURE IF THERE IS ONE
_M_LIBNUM		DD	?	;LIBRARY INDEX FOR THIS MODULE - I THINK JUST USED BY CODEVIEW...
if	fg_plink
_M_SECTION_GINDEX	DD	?	;DEFINED SECTION
_M_PLTYPE		DB	?	;LEVEL 0?
_M_FLAGS		DB	?	;DEBUGGING THIS
else
_M_FLAGS		DB	?	;DEBUGGING THIS
_M_DEBUG_FLAGS		DB	?	;FL_DEBUG_???
endif
			DW	?

_M_TEXT			DD	?	;MODULE NAME

if	fg_td
_M_TD_COMP_PARAMS	EQU	_M_LIBNUM
endif

MODULE_STRUCT	ENDS

M_FLAGS 	RECORD	M_PRECOMPILED_CV:1,M_OMIT_$$PUBLICS:1,M_SRCS_PRESENT:1,M_DEBUGGING_THIS:1,M_LOCALS:1,M_DEBUG_GLOBAL:1,M_USED:1

MDB_STRUCT		STRUC

_MD_NEXT_MDB_GINDEX	DD	?	;NEXT MDB RECORD
_MD_FIRST_SRC_GINDEX	DD	?	;FIRST SOURCE-FILE RECORD
_MD_SRC_COUNT		DD	?	;NUMBER OF SOURCE FILES THIS MODULE

_MD_FIRST_CSEGMOD_GINDEX	DD	?	;FIRST SEGMOD WITH CSEG RECORD THIS MODULE
_MD_CSEG_COUNT		DD	?	;NUMBER OF CV CODE SEGMENTS

_MD_CV_TYPES_GINDEX	DD	?	;CV SEGMOD IF NON-ZERO
_MD_CV_SYMBOLS_GINDEX	DD	?	;CV SEGMOD IF NON-ZERO

MDB_SIZE_CV		EQU	$	;SIZE OF STRUCTURE FOR CODEVIEW INFO

if	fg_td

_MD_TD_OPTFLAGS		DD	?	;OPTIMIZATION FLAGS PROVIDED FOR TD
_MD_TD_LOCALS_INDEX32	EQU	(DWORD PTR _MD_CV_TYPES_GINDEX)	;DD	?	;INDEX OF FIRST LOCAL SYMBOL
_MD_TD_LOCALS_COUNT	DD	?	;COUNT OF LOCAL SYMBOLS
_MD_TD_CORR_INDEX	EQU	_MD_FIRST_CSEGMOD_GINDEX	;INDEX OF FIRST CORRELATION
_MD_TD_CORR_COUNT	EQU	_MD_CSEG_COUNT			;COUNT OF CORRELATIONS
_MD_TD_MOTHER_GINDEX	DD	?	;MODULE I BELONG TO...
;_MD_TD_CLASS_INDEX	DW	?	;INDEX OF FIRST LOCAL CLASS
;_MD_TD_CLASS_COUNT	DW	?	;COUNT OF LOCAL CLASSES

endif

MDB_STRUCT		ENDS


SRC_STRUCT	STRUC			;SOURCE FILES MAINTAINED GLOBALLY, BUT HASHED LOCALLY

_SRC_NEXT_HASH_GINDEX	DD	?	;NEXT SOURCE FILE SAME HASH
_SRC_NEXT_GINDEX	DD	?	;
_SRC_NUMBER		DD	?	;FOR COMPARING INDEXES... IN CVLIN4
if	fg_td
_SRC_TND_STAMP		DD	?
endif
_SRC_HASH		DD	?
_SRC_TEXT		DD	?

SRC_STRUCT	ENDS

_SRC_LINHELP_COUNT	EQU	_SRC_NEXT_HASH_GINDEX


CSEG_STRUCT	STRUC

_CSEG_NEXT_CSEGMOD_GINDEX	DD	?	;NEXT CODE SEGMOD THIS MODULE
_CSEG_PARENT_MOD_GINDEX		DD	?	;
_CSEG_FIRST_LINNUM		DD	?	;FIRST LINNUM RECORD THIS CSEG
_CSEG_LAST_LINNUM		DD	?	;LAST LINNUM_RECORD
if	fg_td
_CSEG_SCOPE_INDEX		DD	?	;FIRST SCOPE THIS SEGMOD
_CSEG_SCOPE_COUNT		DD	?	;# OF SCOPES THIS SEGMOD
_CSEG_COVERAGE_INDEX		DD	?	;FIRST COVERAGE
_CSEG_COVERAGE_COUNT		DD	?	;# OF COVERAGES

_CSEG_CORRELATION_INDEX		EQU	(_CSEG_FIRST_LINNUM.LW)
_CSEG_CORRELATION_COUNT		EQU	(_CSEG_FIRST_LINNUM.HW)
_CSEG_TD_SEG_INDEX		EQU	(_CSEG_LAST_LINNUM.LW)
_CSEG_TD_MOD_INDEX		EQU	(_CSEG_LAST_LINNUM.HW)
_CSEG_FIRST_COVERAGE		EQU	(DWORD PTR _CSEG_COVERAGE_INDEX)
endif

CSEG_STRUCT	ENDS

.LIST

