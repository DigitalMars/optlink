.XLIST

COFF_ARCHIVE_HDR	STRUC

_CAH_NAME	DB	16 DUP(?)	;/NAME
_CAH_DATE	DB	12 DUP(?)	;TIMESTAMP
_CAH_USRID	DB	6 DUP(?)	;
_CAH_GRPID	DB	6 DUP(?)	;
_CAH_MODE	DB	8 DUP(?)	;0
_CAH_SIZE	DB	10 DUP(?)	;ARCHIVE SIZE
_CAH_EOH	DB	2  DUP(?)	;END OF HEADER SIGNATURE

COFF_ARCHIVE_HDR	ENDS

COFF_FILE_HDR	STRUC

_CFH_CPU_REQUIRED DW	? 		;CPU COMPATIBILITY REQUIRED TO RUN
_CFH_N_OBJECTS	DW	?		;# OF ENTRIES IN OBJECTS TABLE

_CFH_TIME_DATE	DD	?		;LINK TIME AND DATE
_CFH_SYMTBL_PTR	DD	?		;PTR TO SYMBOL TABLE
_CFH_N_SYMBOLS	DD	?		;# OF SYMBOLS

_CFH_HDR_XTRA	DW	?		;# OF BYTES FOLLOWING FLAGS FIELD IN HEADER
_CFH_FLAGS	DW	?		;PROGRAM, LIBRARY, LOADABLE, FIXED, ETC

COFF_FILE_HDR ENDS

COFF_RELOC	STRUC

_CRS_OFFSET	DD	?
_CRS_SYMTBL_IDX	DD	?
_CRS_TYPE	DW	?

COFF_RELOC	ENDS

COFF_SYMTBL_ENTRY	STRUC

_CSE_NAME_DD1	DD	?
_CSE_NAME_DD2	DD	?
_CSE_VALUE	DD	?
_CSE_SECTION	DW	?
_CSE_TYPE	DW	?
_CSE_STORAGE_CLASS DB	?
_CSE_AUX_CNT	DB	?

COFF_SYMTBL_ENTRY	ENDS


COFF_SYMTBL_AUX	STRUC

_CSA_SECTION_LENGTH DD	?
_CSA_RELOCS	DW	?
_CSA_LINES	DW	?
_CSA_CD_CHKSUM	DD	?
_CSA_CD_SECT_IDX DW	?
_CSA_SELECT	DB	?
                DB      3 DUP (?)

COFF_SYMTBL_AUX	ENDS

COFF_HELPER_ONE  STRUC

_CH1_ARCH_HDR	COFF_ARCHIVE_HDR	<>
_CH1_N_SYMBOLS	DD	?
_CH1_OFFSETS	DD	?                ;Offsets to Symbol Archive(s)
_CH1_STRINGS	DB	?                ;Stringtable

COFF_HELPER_ONE  ENDS

COFF_HELPER_TWO  STRUC

_CH2_ARCH_HDR	COFF_ARCHIVE_HDR	<>
_CH2_N_ARCHIVES	DD	?                ;Number of Archives
_CH2_OFFSETS	DD	?                ;Offsets to Archive(s)
_CH2_N_STRINGS	DD	?                ;Number of Stringtable entries
_CH2_INDICES	DW	?                ;Stringtable Index into File Offsets
_CH2_STRINGS	DB	?                ;Stringtable

COFF_HELPER_TWO  ENDS

COFF_GEN1_ARCHIVE  STRUC

_CG1_ARCH_HDR	COFF_ARCHIVE_HDR	<>
_CG1_FILE_HDR	COFF_FILE_HDR	<>
_CG1_OPT_HDR	DB	0E0h DUP (?)
_CG1_SECTION_HDRS PE_OBJECT_STRUCT	<> ;times n

COFF_GEN1_ARCHIVE  ENDS

COFF_IMPLIB_ARCHIVE  STRUC

_CIA_ARCH_HDR	COFF_ARCHIVE_HDR	<>
_CIA_FILE_HDR	COFF_FILE_HDR	<>
_CIA_SECTION_HDRS PE_OBJECT_STRUCT	<> ;times n
_CIA_RAW_DATA	DB	?	     ;\ times
_CIA_RELOC      COFF_RELOC <> ;/ n
_CIA_SYMTBL	COFF_SYMTBL_ENTRY <>
_CIA_SYMTBL_AUX	COFF_SYMTBL_AUX <>
_CIA_STRINGS_N	DD	?            ;Stringtable entry count
_CIA_STRINGS	DB	?            ;Stringtable

COFF_IMPLIB_ARCHIVE  ENDS

DDSTRUC	STRUC
 LSW	DW	?
 MSW	DW	?
DDSTRUC	ENDS

_ENT_COFF_ARCHIVE_HINT EQU _ENT_START_BLOCK.DDSTRUC.MSW
_ENT_COFF_ARCHIVE_SIZE EQU _ENT_START_BLOCK.DDSTRUC.LSW

TEMP_FILE_HDR	EQU	TEMP_RECORD.COFF_IMPLIB_ARCHIVE._CIA_FILE_HDR
TEMP_SECT_HDR	EQU	TEMP_RECORD.COFF_IMPLIB_ARCHIVE._CIA_SECTION_HDRS
TEMP_G1_SECT_HDR EQU	TEMP_RECORD.COFF_GEN1_ARCHIVE._CG1_SECTION_HDRS
TEMP_CAH_NAME	EQU	TEMP_RECORD.COFF_ARCHIVE_HDR._CAH_NAME
TEMP_CAH_MODE	EQU	TEMP_RECORD.COFF_ARCHIVE_HDR._CAH_MODE
TEMP_CAH_DATE	EQU	TEMP_RECORD.COFF_ARCHIVE_HDR._CAH_DATE
TEMP_CAH_SIZE	EQU	TEMP_RECORD.COFF_ARCHIVE_HDR._CAH_SIZE
TEMP_CAH_EOH	EQU	TEMP_RECORD.COFF_ARCHIVE_HDR._CAH_EOH

.LIST
