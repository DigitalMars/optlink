.XLIST

ASCIZMSG	MACRO	XX,YY
		LOCAL	L1,L2
		PUSHM	EDX,ECX,EAX

		PUSH	10010H
		PUSH	YY
		PUSH	OFF L1
		PUSH	0

		CALL	MessageBox

		POPM	EAX,ECX,EDX
		JMP	L2

L1		DB	XX

L2:
		ENDM


ALLMSG		MACRO	XX,YY
		LOCAL	L1,L2
IFB	<YY>
		PUSHM	EDX,ECX,EAX

		PUSH	10010H		;fuStyle
		PUSH	0
		PUSH	OFF L2
		PUSH	0

;		EXTERNDEF	_MessageBoxA:NEAR

		CALL	MessageBox

		POPM	EAX,ECX,EDX
		JMP	L1

L2		DB	XX,0

L1:
ELSE
		PUSHM	ES,DI,DX,CX,BX,AX
		SUB	SP,6
		MOV	AX,SS
		MOV	ES,AX
		MOV	AX,YY
		MOV	DI,SP
SOFT	EXTF	HEXWOUT
		CALL	HEXWOUT
		XOR	AX,AX
		STOSW
		SUB	DI,6
		PUSHM	0,CS,OFF L2,SS,DI,MB_OK
		CALL	MESSAGEBOX
		ADD	SP,6
		POPM	AX,BX,CX,DX,DI,ES
		JMP	L1

L2		DB	XX,0

L1:
		ENDIF

		ENDM
if	debug
DEBMSG		EQU	ALLMSG
else
DEBMSG		MACRO	XX,YY
		ENDM
endif

.LIST

